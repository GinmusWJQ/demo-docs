---
sidebar_position: 1
---
# JS中闭包的定义

## 在维基百科的解释:

闭包（英语：Closure），又称词法闭包（Lexical Closure）或函数闭包（function closures）

是在支持 头等函数 的编程语言中，实现词法绑定的一种技术；

* 支持头等函数的函数的编程语言就是支持函数嵌套,可以使用高级函数的语言。而我们熟知的C++不可以

闭包在实现上是一个结构体，它存储了一个函数和一个关联的环境（相当于一个符号查找表）

闭包跟函数最大的区别在于，当捕捉闭包的时候，它的 `自由变量` 会在捕捉时被确定，这样即使脱离了捕捉时的上下文，它也能照常运行

* 而这里的`自由变量`是一个相当重要的概念，也就是作用域链中VO+parentScope中parentScope的里的变量

* 即使脱离了捕捉时的上下文,也可以照常运行

  * >说明了作用域链的确立,与调用时位置无关,只与定义时候的位置有关

<br/>

## 在MDN中的解释

一个函数和对其周围状态（lexical environment，词法环境）的引用捆绑在一起（或者说函数被引用包围），这样的组合就是闭包（closure）

也就是说，闭包让你可以在一个内层函数中访问到其外层函数的作用域

在 JavaScript 中，每当创建一个函数，闭包就会在函数创建的同时被创建出来

<br/>

## 总结以上两者之后的简易解释和总结

**一个普通的函数function，如果它可以访问外层作用于的自由变量，那么这个函数就是一个闭包**

* 从**广义**的角度来说：JavaScript中的函数都是闭包
* 从**狭义**的角度来说：JavaScript中一个函数，如果访问了外层作用于的变量，那么它是一个闭包